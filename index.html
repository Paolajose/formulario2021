<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de contacto</title>
    <link rel="stylesheet" href="./estilos.css">


</head>
<body>

    <div id=" contenido">
  
   
    <form name="formulario" id="formulario">
        <h2>Contacto</h2>

        <input type="text" name="nombre" placeholder="Nombre" id="nombre" value="">
        <input type="text" name="correo" placeholder="Correo" id="correo" value="">
        <input type="text" name="telefono" placeholder="Telefono" id="telefono" value=""> 
        <textarea  name="mensaje" placeholder="Escriba aqui su mensaje..." id="mensaje" value=""></textarea>

        <input type="submit" value="ENVIAR" id="boton">



    </form>
    </div>

    <script>
     
     let contenido = document.getElementById("contenido")

     let formulario = document.getElementById("formulario")

     let nombre =document.getElementById("nombre")

     let correo= document.getElementById("correo")

     let telefono= document.getElementById("telefono")

     let mensaje= document.getElementById("mensaje")

     formulario.addEventListener( `submit` , function(e){
        e.preventDefault();
            
            let datos = new FormData(formulario);

            console.log(datos)
            console.log(datos.get("nombre"))
            console.log(datos.get("correo"))
            console.log(datos.get("telefono"))
            console.log(datos.get("mensaje"))


         const data = new FormData(document.getElementById("formulario"))
            
            console.log("data")

            inf = {

                nombre: datos.get("nombre"),
                correo: datos.get("correo"),
                telefono: datos.get("telefono"),
                mensaje: datos.get("mensaje")
            }

            fetch (" http://localhost:3000/comments", {
                method:"POST",
                body: JSON.stringify(inf),
                headers:{
                    "content-type":"application/json"
                   },

            } )

            .then( function(response){
                   if (response.ok){
                 return response.text()
                   }else {
                     throw "error en la llamada ajax"
                    }
               })

             .then(function(texto){
                 console.log(texto)
                })

             .catch(function(err){
                 console.log(err)
                })





})



    </script>
    
</body>
</html>